// only using sub, no need to flatten
def test(x):
  a = 5
  b = 7
  c = if a == b then 4 else 3 fi
  c == 3
  d = if a == 5 then 1 else 2 fi
  d == 1
  e = if a < b then 5 else 6 fi
  e == 5
  f = if b < a then 7 else 8 fi
  f == 8
  return x
